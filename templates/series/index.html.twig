{% extends 'base.html.twig' %}
{% block title %}Series
{% endblock %}
{% block main %}
	<h1 class="text-white text-center">Listes des séries</h1>
	<div class="container">
		<div class="row justify-content-center justify-content-md-evenly">
			{% for series in series %}
				<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-auto py-3 text-center">
					<div class="card bg-transparent text-white p-0 d-inline-flex border-0" style="width: 250px;">
						<div class="card-body overflow-hidden text-center p-0">
							<a href="{{ path('series_show', {'id': series.id}) }}">
								<img class="poster rounded" src="{{ path("series_poster", {"id": series.id}) }}" alt="Poster">
							</a>
						</div>
						<div class="card-footer bg-transparent text-center">
							<h5 class="card-title m-0">{{ series.title }}</h5>
							<p class="card-text rating fw-bold yellow">IMDB :
								{{ series.externalrating[0].value }}
							</p>
						</div>
					</div>
				</div>
			{% else %}
				<p>Aucune série n'a été trouvée.</p>
			{% endfor %}
		</div>
		{% if maxPages > 1 %}
			<nav aria-label="Page navigation">
				<ul class="pagination justify-content-center">
					<li class="page-item {{ thisPage == 1 ? 'disabled' }}">
						<a class="page-link" href="{{ path('series_index', {page: thisPage - 1 < 1 ? 1 : thisPage - 2})}}" aria-label="Previous">
							<span aria-hidden="true">&laquo;</span>
							<span class="sr-only">Previous</span>
						</a>
					</li>
					<li class="page-item {{ thisPage < 3 ? 'disabled' }}">
						<a class="page-link" href="{{ path('series_index', {page: thisPage - 2 < 1 ? 1 : thisPage - 2})}}">{{ thisPage - 2 }}</a>
					</li>
					<li class="page-item {{ thisPage < 2 ? 'disabled' }}">
						<a class="page-link" href="{{ path('series_index', {page: thisPage - 1 < 1 ? 1 : thisPage - 1})}}">{{ thisPage - 1 }}</a>
					</li>
					<li class="page-item {{ thisPage < 1 ? 'disabled' }}">
						<a class="page-link" href="{{ path('series_index', {page: thisPage < 1 ? 1 : thisPage})}}">{{ thisPage }}</a>
					</li>
					<li class="page-item {{ thisPage + 1 > maxPages ? 'disabled' }}">
						<a class="page-link" href="{{ path('series_index', {page: thisPage + 1 > maxPages ? 1 : thisPage + 1})}}">{{ thisPage + 1}}</a>
					</li>
					<li class="page-item {{ thisPage + 2 > maxPages ? 'disabled' }}">
						<a class="page-link" href="{{ path('series_index', {page: thisPage + 2 > maxPages ? 1 : thisPage + 2})}}">{{ thisPage + 2}}</a>
					</li>
					<li class="page-item">
						<a class="page-link" href="{{ path('series_index', {page: thisPage + 1 > maxPages ? 1 : thisPage + 1})}}" aria-label="Next">
							<span aria-hidden="true">&raquo;</span>
							<span class="sr-only">Next</span>
						</a>
					</li>
				</ul>
			</nav>
		{% endif %}
	</div>


	<a href="{{ path('series_new') }}">Create new</a>
{% endblock %}
